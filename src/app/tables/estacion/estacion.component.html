

<div class="container-fluid">
  
  <div class="mt-4 p-2 bg-secondary text-white">
    <app-cabecera [titulo]="titulo"  (newItemEvent)="select($event)"></app-cabecera>
  </div>
  
     
    <table  style="width: 100%;"  class="table  table-hover table-sm">
      <thead class="thead-dark" >
        <tr>
          <th  style="text-align: center;">Code</th>
          <th>Nombre</th>
          <th>Latitud</th>
          <th>Longitud</th>
          <th>Altura</th>
          <th>Region</th>
          <th>TipoEstacion</th>
          <th>TipoRed</th>
          <th>Network</th>
          <th>Estado</th>
          <th>Latencia</th>
          <th>Retraso</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let d of data   |paginate: { itemsPerPage: 20, currentPage: p }">
          <td style="text-align: center;">
            <span *ngIf="endtime[d.codigo] < '10'; else otro"><button  type="button" class="btn btn-outline-primary btn-sm"
             (click)="mostra_sismo(d.Network.nombre, d.codigo)"  data-toggle="modal" data-target="#myModal">{{d.codigo}}</button></span>
            <ng-template #otro>{{d.codigo}}</ng-template>
          </td>
          <td>{{d.nombre}}</td>
          <td>{{d.latitud}}</td>
          <td>{{d.longitud}}</td>
          <td>{{d.altura}}</td>
          <td>{{d.Region.nombre}}</td>
          <td>{{d.TipoEstacion.nombre}}</td>
          <td>{{d.Tipo.nombre}}</td>
          <td>{{d.Network.nombre}}</td>
          <td>{{d.Estado.nombre}}</td>
          <td>{{latency[d.codigo] | number}}</td>
          <td>{{endtime[d.codigo] }}</td>
          <td *ngIf="endtime[d.codigo] < 10"><button type="button" class="btn btn-success btn-sm" disabled></button></td>
          <td *ngIf="endtime[d.codigo] > 10 && endtime[d.codigo] < 300"><button type="button" class="btn btn-warning btn-sm" disabled></button></td>
          <td *ngIf="endtime[d.codigo] > 300"><button type="button" class="btn btn-danger btn-sm" disabled></button></td>
          
        </tr>
      </tbody>
    </table>
    <div class="col" style="background-color:whitesmoke;">
        <pagination-controls (pageChange)="p=$event"></pagination-controls>
    </div>

<!-- The Modal -->
<div class="modal fade" id="myModal">
<div class="modal-dialog modal-lg">
  <div class="modal-content">
  
    <!-- Modal Header -->
    <div class="modal-header">
      <h5 class="modal-title">{{net}} - {{codigo}}</h5>    
      <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    
    <!-- Modal body -->
    <div class="modal-body">
      <img src="{{imagen}}" width="600px"> 
    </div>
    
    <!-- Modal footer -->
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    </div>
    
  </div>
</div>
</div>



</div>






